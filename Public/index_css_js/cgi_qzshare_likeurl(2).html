<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(1407)http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_likeurl?url=http%3A%2F%2Fwufazhuce.com%2Fone%2Fvol.975%23cuestion&showcount=1&desc=&title=%E5%8F%8B%E7%AD%94%40%E4%B8%80%E4%B8%AAApp%E5%B7%A5%E4%BD%9C%E5%AE%A4%20%EF%BC%9A%20%E5%8F%91%E8%87%AA%E6%8B%8D%E7%9A%84%E6%97%B6%E5%80%99%E8%A6%81%E8%AF%B4%E4%BB%80%E4%B9%88%E6%89%8D%E6%98%BE%E5%BE%97%E8%87%AA%E7%84%B6%EF%BC%9F%EF%BC%88%E3%80%8CONE%20%C2%B7%20%E4%B8%80%E4%B8%AA%E3%80%8DVOL.975%EF%BC%89&summary=%40%E4%B8%80%E4%B8%AAApp%E5%B7%A5%E4%BD%9C%E5%AE%A4%E9%97%AE%EF%BC%9A%E8%87%AA%E4%BB%8E%E6%88%91%E4%BB%AC%E7%9A%84boss%E5%8F%98%E6%88%90%E4%BA%86%E8%87%AA%E6%8B%8D%E7%8B%82%EF%BC%8C%E5%B7%A5%E4%BD%9C%E5%AE%A4%E4%BE%BF%E6%8E%80%E8%B5%B7%E4%B8%80%E5%9C%BA%E8%85%A5%E9%A3%8E%E8%A1%80%E9%9B%A8%E7%9A%84%E8%87%AA%E6%8B%8D%E7%83%AD%E3%80%82%E5%A6%82%E4%BD%95%E6%89%8D%E8%83%BD%E5%9C%A8%E4%B9%B1%E8%8A%B1%E6%B8%90%E6%AC%B2%E8%BF%B7%E4%BA%BA%E7%9C%BC%E7%9A%84%E8%87%AA%E6%8B%8D%E7%85%A7%E4%B8%AD%E8%84%B1%E9%A2%96%E8%80%8C%E5%87%BA%EF%BC%8C%E7%8B%AC%E6%A0%91%E4%B8%80%E5%B8%9C%EF%BC%8C%E8%A3%85%E9%80%BC%E4%BA%8E%E6%97%A0%E5%BD%A2%E4%B9%8B%E4%B8%AD%E3%80%82%E6%83%B3%E9%97%AE%E9%97%AE%E5%A4%A7%E5%AE%B6%EF%BC%8C%E5%8F%91%E8%87%AA%E6%8B%8D%E7%9A%84%E6%97%B6%E5%80%99%E8%A6%81%E8%AF%B4%E4%BB%80%E4%B9%88%E6%89%8D%E6%98%BE%E5%BE%97%E8%87%AA%E7%84%B6%EF%BC%9F&pics=&site=%E3%80%8CONE%20%C2%B7%20%E4%B8%80%E4%B8%AA%E3%80%8D&style=102&width=145&height=26&otype=share -->
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">

<title>赞、分享</title>
<style type="text/css">
body,html{
	margin:0;padding:0;
}
</style>
<script type="text/javascript">
document.domain = "qq.com";
function getParamter(name){
    var r = new RegExp("(\\?|#|&)" + name + "=([^&#]*)(&|#|$)");
    var m = location.href.match(r);
    return (!m?"":m[2]);
}
var t = parseInt(getParamter('style')),
g_iStyle = isNaN(t)?3:t;
var w,h,st,icon = false,oldStyle = false;
switch(g_iStyle){
	case 1:
	case 2:
	case 3:
	case 4:
		oldStyle = true;
		break;
	case 101:
		h=24;st=1;
		break;
	case 102:
		h=24;st=2;
		break;
	case 103:
		h=16;st=3;
		break;
	case 201:
		icon = true;
		h=32;st=1;
		break;
	case 202:
		icon = true;
		h=24;st=2;
		break;
	case 203:
		icon = true;
		h=16;st=3;
		break;
	default :
		g_iStyle = 3;
		oldStyle = true;
}

g_sOType = (getParamter('otype')==='share')?'share':'like';
g_sTitle = g_sOType=='share'?'分享到QQ空间':'赞并推荐到QQ空间';
g_sBtn = g_sOType=='share'?'分享':'赞';
g_bShowcount = (getParamter('showcount')=='0')?false:true,
g_bLiked = false, g_iUin = 0, g_bLogined = false, g_sUrl = '',g_iCount = -1;
document.write(['<link rel="stylesheet" rev="stylesheet" href="',!oldStyle?icon?'http://qzonestyle.gtimg.cn/qzone_v6/proj_connect_open/open_share_icon_widget.css':'http://qzonestyle.gtimg.cn/qzone_v6/proj_connect_open/open_share_button_widget.css':'http://qzonestyle.gtimg.cn/qzone_v6/proj_connect_open/open_guanzhu_widget.css','" type="text/css" media="screen" />'].join(''));
</script><link rel="stylesheet" rev="stylesheet" href="open_share_button_widget.css" type="text/css" media="screen">
</head>
<body>
<script type="text/javascript">
function getCookie(name) {
    var r = new RegExp("(?:^|;+|\\s+)" + name + "=([^;]*)"),
    m = document.cookie.match(r);
    return (!m ? "": m[1]);
}

function getACSRFToken() {
    return arguments.callee._DJB(getCookie("skey"));
}
getACSRFToken._DJB = function(str) {
    var hash = 5381;
    for (var i = 0,
    len = str.length; i < len; ++i) {
        hash += (hash << 5) + str.charAt(i).charCodeAt();
    }
    return hash & 0x7fffffff;
}


var htmlStrArr = oldStyle?['<div class="qz_like_mode style_',g_iStyle,'" id="mainContainer"><div id="likePanel" class="qz_like_op"><a href="javascript:void(0);" class="qz_like_bt" id="likeBTN" title="',g_sTitle,'" onclick="form_post();return false;" style="cursor: pointer;"><span id="likeState">',g_sBtn,'</span></a><strong class="qz_like_stat" id="countPanel"><span id="likeCnt" ><a id="count">...</a></span></strong><span class="qz_like_text" id="userName" style="display: none;"></span></div></div>']:icon?['<div class="qz_share_icon qz_share_icon_',h,'"><a class="bt_icon" href="javascript:void(0);" onclick="form_post();return false;" id="likeBTN" title="',g_sTitle,'"><span id="likeState">',g_sBtn,'</span></a><strong class="counts counts_white_',h,'" id="countPanel"><span class="i_left"></span><span class="i_right"><span class="counts_nums" id="count"></span></span></strong></div>']:['<div class="qz_share_btn_blue qz_share_btn_blue_',st,'"><a href="javascript:void(0);" onclick="form_post();return false;" class="bt" id="likeBTN" title="',g_sTitle,'"><span id="likeState">',g_sBtn,'</span></a><strong class="counts counts_white_',h,'" id="countPanel"><span class="i_left"></span><span class="i_right"><span class="counts_nums" id="count">...</span></span></strong></div>'];

document.write(htmlStrArr.join(''));
</script><div class="qz_share_btn_blue qz_share_btn_blue_2"><a href="javascript:void(0);" onclick="form_post();return false;" class="bt" id="likeBTN" title="分享到QQ空间"><span id="likeState">分享</span></a><strong class="counts counts_white_24" id="countPanel"><span class="i_left"></span><span class="i_right"><span class="counts_nums" id="count">6</span></span></strong></div>

<script type="text/javascript">
var _siDomain = "qzonestyle.gtimg.cn";
document.write('<script type="text/javascript" src="http://' +_siDomain+'/qzone/app/v8/utils/return_code_report/1.0.js" charset="utf-8"><\/script>');
function $(id){
	return document.getElementById(id);
}
(!g_bShowcount)&&($('countPanel').style.display='none');
function sendPV(url) {
	if(Math.random()+0.05<1){
		return;
	}
	var pvid = (Math.round(Math.random() * 2147483647) * (new Date().getUTCMilliseconds())) % 10000000000;
	var rt = Math.random();
	var src = "	http://pingfore.qq.com/pingd?dm=sns.qzone.qq.com&url=" + url + "&tt=-&rdm=-&rurl=-&pvid=" + pvid + "&scr=-&scl=-&lang=-&java=1&cc=-&pf=-&tz=-8&ct=-&vs=3.3&rt=" + rt;
	window._pgvImg_ = new Image();
	window._pgvImg_.src = src;
}
sendPV(location.pathname+'|rate=1-20'+'|otype='+g_sOType+'|stype='+g_iStyle+'|showcount='+g_bShowcount);

function processNum(num){
	if(typeof num != 'number'){
		num = Number(num);
	}
	var temp = num/10000,
	re;
	if(temp>=1 && temp<1000){
		re = Math.round(num/1000)/10+'万';
	}else if(temp>=1000 && temp<10000){
		re = Math.round(temp)+'万';
	}else if (temp > 10000) {
		re =9999+'万';
	}else {
		re = num;
	}
	return re;
}
function setLike(bLike){
	if(bLike){
		if(g_sOType=='like'){
			$('likeState').innerHTML = '已赞过';
			$('likeBTN').title = '取消赞';
			$('likePanel')&&($('likePanel').className = 'qz_liked_op');
		}
		(g_iCount>=0)&&($('count').innerHTML = processNum(++g_iCount));
	}else{
		if(g_sOType=='like'){
			$('likeState').innerHTML = '赞';
			$('likeBTN').title = '赞并推荐到QQ空间';
			$('likePanel')&&($('likePanel').className = 'qz_like_op');
		}
		(g_iCount>0)&&($('count').innerHTML = processNum(--g_iCount));
	}
	g_bLiked = bLike;
}
g_sUrl = decodeURIComponent(getParamter('url'));
window._urlexpImg_ = new Image();
window._urlexpImg_.src = 'http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_urlexp?url=' + encodeURIComponent(g_sUrl);
function form_post(){
	if(form_post.fwaiting)return ;/*防止连续点击*/
	form_post.fwaiting = true;
	
	setTimeout('form_post.fwaiting=false;',3000);
	
	if(g_sOType=='share'){
		window.open('http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey'+location.search);
		return;
	}
	
	if(g_bLogined){
		var s = document.createElement('script');
		s.charset = 'utf-8';
		s.src = 'http://qzonestyle.gtimg.cn/qzone/app/qzlike/doLike.js';
		document.body.appendChild(s);
	}else{
		window.open('http://qzs.qq.com/qzone/app/qzlike/like_login.html','_blank','toolbar=0,status=0,resizable=1,left='+(window.screen.width - 560) / 2 + ',top=' + ((window.screen.height - 320) / 2-20)+' ,width=560,height=320');
		
	}
	
}
var ____return_code_report_date___ = new Date();
window._Callback = function(o){
	setTimeout(function(){
		if(window.ReturnCodeReport && window.ReturnCodeReport.report){
			window.ReturnCodeReport.report({
				domain: 'sns.qzone.qq.com',
				cgi: 'cgi_qzsharegetlike',
				code: (o && o.code) || 0,
				time: ((new Date()).valueOf() - ____return_code_report_date___.valueOf())
			});
		}
	},0);
	if(o.code==0 && o.data && o.data.result){
		g_iCount = o.data.result.count||0;
		g_bLogined = o.data.result.login?true:false;
		(g_iCount>=0)&&((o.data.result.like)?g_iCount--:g_iCount++);/*防止刚开始时，g_iCount被setLike改变,当然，只有g_iCount大于等于0（即正常取到赞、分享数时才去设定）*/
		setLike(o.data.result.like?true:false,true);
	}
};
if(g_bShowcount){
	document.write(['<script src="http://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzsharegetlike?fupdate=1&url=',encodeURIComponent(g_sUrl),'&g_tk=',getACSRFToken(),'" charset="utf-8"><\/script>'].join(''));
}
</script><script type="text/javascript" src="1.0.js" charset="utf-8"></script><script src="cgi_qzsharegetlike(2)" charset="utf-8"></script>

</body></html>